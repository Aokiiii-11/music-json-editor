## 目标
- 增加“译文对照”模式切换：支持 Auto/原文仅/双语三态
- 当译文文本框为空且原文为纯 JSON（非双语管道分隔）时，自动切换为“原文仅”模式
- 仅当原文、译文都解析成功时，呈现双语对照
- 在“关闭译文解析结果”时：隐藏译文相关 UI（不隐藏译文 JSON 文本框），保留完整 JSON 编辑能力，并保证切换平滑
- 检测到非 JSON 输入或出现译文内容时，自动回到双语对照模式
- 明确的模式状态指示器，保持两种模式下交互一致性

## 现有实现定位
- 原文解析与提取双语映射：`App.tsx:178-204`、格式化：`App.tsx:334-352`
- 译文 JSON 输入与解析：`components/TranslationJsonInput.tsx:18-38`，诊断展示：`components/TranslationJsonInput.tsx:40-80`
- 底部可视化编辑器与双栏：
  - 编辑模式分段对照：`components/JsonEditor.tsx:275-309`（双 `textarea`）
  - 编辑模式原始文本：左源 `components/JsonEditor.tsx:320-327`；右译文只读 `components/JsonEditor.tsx:330-338`
  - 查看模式左右栏：`components/JsonEditor.tsx:351-376`（右栏无译文时显示“No translation provided…”）
- 缺译提示徽章：`components/JsonEditor.tsx:234-238`（文案 `Missing Translation`）

## 设计方案
- 新增三态模式：`auto | source_only | dual`
  - 默认 `auto`
  - `auto` 下的推导：
    - 若 `translationJsonText` 为空 且 `data` 存在 且 `translationMap` 为空 → `source_only`
    - 若 `data` 与译文解析均成功（`translationJsonText` 非空且诊断对象存在）→ `dual`
    - 其他情况回退 `dual`
- 明确状态指示：在中部工具条加入模式指示器与切换控件；显示 `Auto/原文仅/双语`，并提供一键循环切换
- 平滑过渡：
  - 使用 Tailwind 现有过渡（`transition-opacity`, `transition-colors`, `ease-in-out`），隐藏右侧栏改为淡出+占位避免闪烁
  - 分隔线与右侧标签条件渲染时添加 `opacity` 过渡

## 具体改动
1) `App.tsx`
- 新增状态：`viewMode: 'auto'|'source_only'|'dual'`，以及 `effectiveMode` 计算
- 在 `onLoad`（译文加载回调）与原文解析后，更新 `effectiveMode`（满足条件自动切换）
- 传参到编辑器：`<JsonEditor data={...} translationMap={effectiveMode==='dual' ? translationMap : undefined} compareMode={effectiveMode} />`
- 中部工具条（`App.tsx:505-667`）添加模式指示与切换按钮，显示当前模式并允许用户手动覆盖 auto

2) `components/JsonEditor.tsx`
- `JsonEditorProps` 增加 `compareMode?: 'auto'|'source_only'|'dual'`
- 查看模式：当 `compareMode==='source_only'` 时不渲染右栏与分隔线（`components/JsonEditor.tsx:344-376`），并将“无译文”的占位隐藏
- 编辑模式原始文本视图：当 `compareMode==='source_only'` 时隐藏右侧只读译文框（`components/JsonEditor.tsx:329-338`），保留左侧源文本编辑
- 缺译徽章：当 `compareMode==='source_only'` 时不显示 `Missing Translation`（`components/JsonEditor.tsx:234-238`）
- 样式：加 `transition-opacity duration-200` 到受控区域，避免闪烁

3) `components/TranslationJsonInput.tsx`
- 无需隐藏文本框；保持当前解析与诊断逻辑不变
- 当用户在此粘贴译文并解析成功时，`App` 自动切回双语（由 `effectiveMode` 逻辑决定）

## 自动切换与边界处理
- 空 JSON 对象：`{}` 解析成功且无译文 → 进入“原文仅”，编辑器正常显示并可编辑
- 无效 JSON：原文解析错误 → `parseError` 显示，底部编辑器不可用；模式指示保持但不影响行为（回退双语不产生额外 UI）
- 部分译文：存在部分 `translationMap` 时仍为双语，对缺失项继续标注（除非用户手动切到“原文仅”）
- 非 JSON 或出现译文内容：在 `auto` 模式下，一旦译文文本框非空且解析成功，自动切回双语

## 一致性
- 两种模式下：
  - 保留原文 JSON 编辑的全部能力（高亮/格式化/校验/折叠）由现有上方输入区与底部编辑器保持不变
  - 操作按钮与布局保持一致，仅通过条件渲染隐藏译文相关元素

## 验证
- 手动测试路径：
  - 仅原文 JSON → 自动“原文仅”，不再出现 `Missing Translation`
  - 粘贴有效译文 JSON → 自动“双语”，右栏显示对照与诊断
  - 译文清空 → 回到“原文仅”
  - 非法原文 JSON → 顶部错误提示，底部编辑器不可用，模式指示不闪烁
- 观察过渡效果：切换时右栏淡入淡出，无布局抖动

## 交付内容
- 修改 `App.tsx` 与 `components/JsonEditor.tsx` 的最小增量实现，严格沿用现有 Tailwind 与组件结构
- 不改变 `TranslationJsonInput` 的现有交互，仅通过 `App` 的模式控制实现联动
